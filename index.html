
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Managers – Reports & Dashboards</title>
  <style>
    :root {
      --bg: #0f1221;
      --panel: #171a2e;
      --card: #1f2340;
      --accent: #6dd1ff;
      --accent-2: #aef1d1;
      --text: #e8ecff;
      --muted: #b7bdd9;
      --danger: #ff6b6b;
      --success: #64d38b;
      --warning: #ffd166;
      --focus: #3a86ff;
      --shadow: 0 10px 24px rgba(0,0,0,.3);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; background: var(--bg); color: var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
    a { color: var(--accent); }
    header {
      position: sticky; top: 0; z-index: 5;
      background: linear-gradient(180deg, rgba(23,26,46,.95), rgba(23,26,46,.85));
      backdrop-filter: saturate(1.5) blur(6px);
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .wrap { max-width: 1200px; margin: 0 auto; padding: 16px; }
    .title { display: flex; align-items: center; gap: 12px; }
    .title h1 { margin: 0; font-size: 20px; letter-spacing: .2px; }
    .filters { display: grid; grid-template-columns: 1fr 140px 180px 140px; gap: 10px; margin-top: 12px; }
    .filters input[type="search"], .filters select, .chipbar { background: var(--panel); color: var(--text); border: 1px solid rgba(255,255,255,.08); border-radius: 10px; padding: 10px 12px; box-shadow: var(--shadow); }
    .chipbar { display: flex; flex-wrap: wrap; gap: 8px; align-items: center; }
    .chip { cursor: pointer; user-select: none; padding: 6px 10px; border-radius: 20px; background: #23284a; border: 1px solid rgba(255,255,255,.08); color: var(--muted); transition: .2s; }
    .chip.active { background: var(--focus); color: #fff; }
    main { padding: 24px 16px; }
    .section { margin: 18px auto; max-width: 1200px; }
    .section-header { display: flex; align-items: center; justify-content: space-between; gap: 8px; background: var(--panel); border: 1px solid rgba(255,255,255,.08); border-radius: 12px; padding: 10px 14px; box-shadow: var(--shadow); }
    .section-header h2 { margin: 0; font-size: 16px; }
    .section-header button { background: #23284a; color: var(--text); border: 1px solid rgba(255,255,255,.1); border-radius: 8px; padding: 8px 12px; cursor: pointer; }

    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 12px; margin-top: 12px; }
    .card { background: var(--card); border: 1px solid rgba(255,255,255,.08); border-radius: 12px; padding: 12px; box-shadow: var(--shadow); display: grid; grid-template-rows: auto auto auto; gap: 10px; }
    .name { font-weight: 600; letter-spacing: .2px; }
    .meta { display: flex; flex-wrap: wrap; gap: 8px; }
    .badge { font-size: 12px; padding: 4px 8px; border-radius: 14px; border: 1px solid rgba(255,255,255,.1); color: var(--muted); background: #2a2f57; }
    .actions { display: flex; gap: 8px; }
    .btn { display: inline-flex; align-items: center; gap: 6px; background: #2a2f57; color: var(--text); border: 1px solid rgba(255,255,255,.1); border-radius: 8px; padding: 8px 10px; text-decoration: none; cursor: pointer; }
    .btn.primary { background: var(--focus); }
    .btn.copy { background: #254;
      background: linear-gradient(180deg, #244a32, #173b27);
      border-color: rgba(100, 211, 139, .5);
    }
    .btn.fav { background: #3a3042; }
    .fav-on { color: var(--warning); }
    footer { color: var(--muted); text-align: center; padding: 22px; }

    @media (max-width: 860px) {
      .filters { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="title">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 3l9 4-9 4-9-4 9-4z" fill="var(--accent)"/><path d="M21 12l-9 4-9-4" stroke="var(--accent-2)" stroke-width="1.6" stroke-linecap="round"/></svg>
        <h1>Managers – Reports & Dashboards</h1>
      </div>
      <div class="filters" role="region" aria-label="Filters">
        <input id="search" type="search" placeholder="Search by name, domain, or region…" aria-label="Search dashboards" />
        <select id="region" aria-label="Filter by region"><option value="">All regions</option></select>
        <select id="sort" aria-label="Sort"><option value="name">Sort: Name (A→Z)</option><option value="domain">Sort: Domain</option><option value="region">Sort: Region</option></select>
        <button id="reset" class="btn" aria-label="Reset filters">Reset</button>
      </div>
      <div class="chipbar" id="domains" aria-label="Domain filters"></div>
    </div>
  </header>

  <main>
    <section class="section" id="favorites-section" hidden>
      <div class="section-header">
        <h2>⭐ Favorites</h2>
        <button class="btn" id="openFavs">Open all favorites</button>
      </div>
      <div class="grid" id="favoritesGrid"></div>
    </section>

    <section class="section" id="results">
      <div class="section-header">
        <h2>All dashboards</h2>
        <div style="display:flex; gap:8px; align-items:center">
          <label style="display:flex; gap:6px; align-items:center; color:var(--muted)"><input type="checkbox" id="showFavs"/> Show favorites first</label>
          <button class="btn" id="openFiltered">Open filtered</button>
        </div>
      </div>
      <div class="grid" id="grid"></div>
    </section>
  </main>

  <footer>
    Built for managers · Simple · Fast · Self-serve · Last updated <span id="lastUpdated"></span>
  </footer>

<script>
  const dashboards = [
    {domain:'Attendance', region:'Israel', name:'Amdocs Park Attendance', url:'https://tabi/#/site/GlobalServices/views/AmdocsParkAttendanceDataLake/AmdocsParkAttendance?:iid=1'},
    {domain:'Attendance', region:'Israel', name:'Attendance Evenings Stay & Exits', url:'https://tabi/#/site/GlobalServices/views/AttendanceEveningsStayExits/AttendanceEveningsStay?:iid=1'},
    {domain:'Attendance', region:'Cyprus', name:'Cyprus Attendance', url:'https://tabi/#/site/GlobalServices/views/CyprusAttendance/CyprusAttendance?:iid=2'},
    {domain:'Attendance', region:'Israel', name:'Israel Attendance', url:'https://tabi/#/site/GlobalServices/views/IsraelAttendance/RegionalAttendance?:iid=2'},
    {domain:'Attendance', region:'Israel', name:'Israel Attendance Overview', url:'https://tabi/#/site/GlobalServices/views/IsraelAttendanceOverview/IsraelAttendanceOverview?:iid=4'},
    {domain:'Attendance', region:'Israel', name:'More than 11 Hours Present in the Office', url:'https://tabi/#/site/GlobalServices/views/Morethan11HoursPresentintheOffice/Morethan11HoursPresentintheOffice?:iid=3'},
    {domain:'Attendance', region:'Israel', name:'Nazareth Attendance', url:'https://tabi/#/site/GlobalServices/views/NazarethAttendance/NazarethAttendance?:iid=1'},
    {domain:'Attendance', region:'Israel', name:'Shderot Attendance', url:'https://tabi/#/site/GlobalServices/views/ShderotAttendance/ShderotAttendance?:iid=5'},
    {domain:'Attendance', region:'Global', name:'Locations Employees Dashboard', url:'https://tabi/#/site/GlobalServices/views/LocationsEmployeesDashboard_16795840394750/LocationsEmployeesDashboard'},
    {domain:'Attendance', region:'Israel', name:'Live Attendance Dashboard', url:'https://tabi/#/site/GlobalServices/views/LiveAttendanceDashboard/LiveIsraelAttendance'},
    {domain:'Attendance', region:'APAC', name:'Live Attendance Dashboard', url:'https://tabi/#/site/GlobalServices/views/LiveAttendanceDashboard/LivePhilippinesAttendance'},
    {domain:'Attendance', region:'N. America', name:'Live Attendance Dashboard', url:'https://tabi/#/site/GlobalServices/views/LiveAttendanceDashboard/LiveGuadalajaraCorporativoGaleriasAttendance'},
    {domain:'Attendance', region:'N. America', name:'Flex Seat v/s Attendance Analysis', url:'https://tabi/#/site/GlobalServices/views/FlexSeatvsAttendanceAnalysis/FlexSeatvsAttendanceAnalysis'},
    {domain:'Attendance', region:'India', name:'India Live Attendance Summary', url:'https://tabi/#/site/GlobalServices/views/IndiaLiveAttendanceSummary/IndiaLiveAttendanceSummary?:iid=2'},

    {domain:'EHS, Security', region:'Global', name:'EHS Criticality Buildings Summary', url:'https://tabi/#/site/GlobalServices/views/EHSCriticalityBuildingsSummary/EHSCriticalityBuildingsSummary'},
    {domain:'EHS, Security', region:'Israel', name:'Security Expert Badges Dashboard', url:'https://tabi/#/site/GlobalServices/views/SecurityExpertBadgesDashboard/SecurityExpertBadgesDashboard?:iid=1'},
    {domain:'EHS, Security', region:'Global', name:'Security Readiness Buildings Summary', url:'https://tabi/#/site/GlobalServices/views/SecurityReadinessBuildingsSummaryProd/SecurityReadinessBuildingsSummary?:iid=1'},
    {domain:'EHS, Security', region:'India', name:'Pune Swipe Details', url:'https://tabi/#/site/GlobalServices/views/PuneSwipeDetails/PuneSwipeDetails'},

    {domain:'Travel & Immigration', region:'Global', name:'Active Relocation', url:'https://tabi/#/site/GlobalServices/views/ActiveRelocation/ActiveRelocation?:iid=1'},
    {domain:'Travel & Immigration', region:'Global', name:'Global Relocation Spend', url:'https://tabi/#/site/GlobalServices/views/GlobalRelocationSpend/GlobalRelocationSpend?:iid=1'},
    {domain:'Travel & Immigration', region:'Global', name:'Immigration Budget', url:'https://tabi/#/site/GlobalServices/views/ImmigrationBudget/ImmigrationBudget?:iid=2'},
    {domain:'Travel & Immigration', region:'Global', name:'Immigration Calculator', url:'https://tabi/#/site/GlobalServices/views/ImmigrationCalculator/ImmigrationCalculator?:iid=2'},
    {domain:'Travel & Immigration', region:'Global', name:'India & APAC Business VISA Dashboard', url:'https://tabi/#/site/GlobalServices/views/IndiaAPACBusinessVISADashboard/IndiaAPACBusinessVISADashboard?:iid=1'},
    {domain:'Travel & Immigration', region:'Global', name:'Lumpsum vs Cargo Analysis', url:'https://tabi/#/site/GlobalServices/views/LumpsumvsCargoAnalysis/LumpsumvsCargoAnalysis?:iid=2'},
    {domain:'Travel & Immigration', region:'Global', name:'Traffic Light', url:'https://tabi/#/site/GlobalServices/views/TrafficLight/TrafficLight?:iid=2'},
    {domain:'Travel & Immigration', region:'Global', name:'Work Permit Process Steps KPIs', url:'https://tabi/#/site/GlobalServices/views/WorkPermitProcessStepsKPIs/WorkPermitProcessStepsKPIs?:iid=3'},
    {domain:'Travel & Immigration', region:'Global', name:'All Plan Travel Details', url:'https://tabi/#/site/GlobalServices/views/AllPlanTravelDetails/AllPlanTravelDetails?:iid=4'},

    {domain:'Real Estate & Facilities', region:'Israel', name:'Amdocs Park Facility Tickets', url:'https://tabi/#/site/GlobalServices/views/FacilitiesTicketsNew/FacilitiesTickets?:iid=5'},
    {domain:'Real Estate & Facilities', region:'Global', name:'Building & Contract Details', url:'https://tabi/#/site/GlobalServices/views/BuildingContractDetails/RealEstateSummary?:iid=6'},
    {domain:'Real Estate & Facilities', region:'Global', name:'Facilities Tickets', url:'https://tabi/#/site/GlobalServices/views/FacilitiesTickets/FacilitiesTickets_1?:iid=3'},
    {domain:'Real Estate & Facilities', region:'Global', name:'Global Site Analysis', url:'https://tabi/#/site/GlobalServices/views/GlobalSiteAnalysisv1/GlobalSiteAnalysis'},
    {domain:'Real Estate & Facilities', region:'Israel', name:'Real Estate and Facilities Analysis IL', url:'https://tabi/#/site/GlobalServices/views/RealEstateandFacilitiesAnalysisIL/MainILSummary?:iid=4'},
    {domain:'Real Estate & Facilities', region:'Israel', name:'Space Management Dashboard', url:'https://tabi/#/site/GlobalServices/views/SpaceManagementDashboard/SpaceManagementDashboard?:iid=7'},

    {domain:'Transportation', region:'Israel', name:'Amdocs Fleet Monthly', url:'https://tabi/#/site/GlobalServices/views/AmdocsFleetMonthly/TotalQuantities?:iid=9'},
    {domain:'Transportation', region:'Israel', name:'Bubbles Service Summary', url:'https://tabi/#/site/GlobalServices/views/BubblesServiceSummary/BubblesServiceSummary?:iid=8'},
    {domain:'Transportation', region:'Israel', name:'Car Accidents Summary', url:'https://tabi/#/site/GlobalServices/views/CarAccidentsSummary/AccidentsSummary?:iid=10'},
    {domain:'Transportation', region:'Israel', name:'Car Damages Cost Analysis', url:'https://tabi/#/site/GlobalServices/views/CarDamagesCostAnalysis/CarDamagesCostAnalysisLocationVendor?:iid=9'},
    {domain:'Transportation', region:'Israel', name:'Car Wash', url:'https://tabi/#/site/GlobalServices/views/CarWash/Summary?:iid=3'},
    {domain:'Transportation', region:'Israel', name:'Gas Consumption Summary', url:'https://tabi/#/site/GlobalServices/views/GasConsumptionSummary/GasConsumptionSummary?:iid=4'},
    {domain:'Transportation', region:'Israel', name:'IL Shuttles', url:'https://tabi/#/site/GlobalServices/views/ILShuttles/ShuttlesSummary?:iid=3'},
    {domain:'Transportation', region:'Israel', name:'Invoices', url:'https://tabi/#/site/GlobalServices/views/Invoices/PaymentDelaySLA?:iid=10'},
    {domain:'Transportation', region:'Israel', name:'KML Consumption', url:'https://tabi/#/site/GlobalServices/views/KMLConsumption/KMLConsumption?:iid=8'},
    {domain:'Transportation', region:'Israel', name:'Parking Area Summary', url:'https://tabi/#/site/GlobalServices/views/ParkingAreaSummary_16987440988720/ParkingAreaSummary?:iid=11'},
    {domain:'Transportation', region:'Israel', name:'Pledged', url:'https://tabi/#/site/GlobalServices/views/Pleged/PledgeStatusSummary?:iid=11'},
    {domain:'Transportation', region:'India', name:'Routematic Analysis', url:'https://tabi/#/site/GlobalServices/views/RoutematicAnalysis_17365048521050/RoutematicAnalysis?:iid=5'},
    {domain:'Transportation', region:'Israel', name:'Transportation Budget', url:'https://tabi/#/site/GlobalServices/views/TransportationBudget/TransportationBudget?:iid=4'},
    {domain:'Transportation', region:'Israel', name:'Tyre Analysis', url:'https://tabi/#/site/GlobalServices/views/TyreAnalysis/TyreAnalysis?:iid=9'},

    {domain:'Culinary', region:'India', name:'DigiCafe Dashboard', url:'https://tabi/#/site/GlobalServices/views/DIgiCafeDashboard/DigiCafeDashboard?:iid=3'},
    {domain:'Culinary', region:'India', name:'INDIA Cafe Survey Analysis', url:'https://tabi/#/site/GlobalServices/views/INDIACafeSurveyAnalysis/INDIACafeSurveyAnalysis?:iid=4'},
    {domain:'Culinary', region:'Israel', name:'CIBUS', url:'https://tabi/#/site/GlobalServices/views/CIBUSDashboard/CIBUS?:iid=1'},
    {domain:'Culinary', region:'Israel', name:'Coffee Machines', url:'https://tabi/#/site/GlobalServices/views/CoffeeMachinesDataLake/MainDash?:iid=6'},
    {domain:'Culinary', region:'Israel', name:'Prediction Quantity Analysis - Amdocs Park', url:'https://tabi/#/site/GlobalServices/views/PredictionQuantityAnalysis-AmdocsPark/AmdocsParkWeeklyPredictionQuantityAnalysis?:iid=7'},

    {domain:'Travel & Immigration', region:'Global', name:'AMEX_BCD', url:'https://tabi/#/site/GlobalServices/views/AMEX_BCD/Summary'},
    {domain:'Travel & Immigration', region:'Global', name:'Business Travel Daily Reports', url:'https://tabi/#/site/GlobalServices/views/BusinessTravelDailyReports/BusinessTravelDailyReports'},
    {domain:'Travel & Immigration', region:'Global', name:'Business Trips Monitor', url:'https://tabi/#/site/GlobalServices/views/BusinessTripsMonitor/SummaryPlannedTrips?:iid=12'},
    {domain:'Travel & Immigration', region:'Global', name:'Changes', url:'https://tabi/#/site/GlobalServices/views/Changes/ChangesSummary?:iid=6'},
    {domain:'Travel & Immigration', region:'Global', name:'Employee Travel Details', url:'https://tabi/#/site/GlobalServices/views/EmployeeTravelDetails/EmployeeTravelDetails?:iid=5'},
    {domain:'Travel & Immigration', region:'Global', name:'Group Trip to Same Direction', url:'https://tabi/#/site/GlobalServices/views/GroupTriptoSameDirection/GroupTriptoSameDirection?:iid=5'},
    {domain:'Travel & Immigration', region:'Global', name:'GS Travel for Monthly deck', url:'https://tabi/#/site/GlobalServices/views/GSTravelforMonthlydeck/GSTravel?:iid=7'},
    {domain:'Travel & Immigration', region:'Global', name:'High Cost Trips', url:'https://tabi/#/site/GlobalServices/views/HighCostTrips/HighCostTrips?:iid=6'},
    {domain:'Travel & Immigration', region:'Global', name:'ISRAEL Employees Travel Details', url:'https://tabi/#/site/GlobalServices/views/ISRAELEmployeesTravelDetails/ISRAELEmployeesTravelDetails?:iid=6'},
    {domain:'Travel & Immigration', region:'Global', name:'Israeli Reservists Traveling Details', url:'https://tabi/#/site/GlobalServices/views/IsraeliReservistsTravelingDetails/IsraeliReservistsTravelingDetails?:iid=10'},
    {domain:'Travel & Immigration', region:'Global', name:'OPEX Summary', url:'https://tabi/#/site/GlobalServices/views/OPEXSummary/OPEXSummary'},
    {domain:'Travel & Immigration', region:'Global', name:'TIR Dashboard', url:'https://tabi/#/site/GlobalServices/views/TIRDashboard/TIRDashboard?:iid=9'},
    {domain:'Travel & Immigration', region:'Global', name:'Travel KPI`s', url:'https://tabi/#/site/GlobalServices/views/TravelKPIs/Main?:iid=13'},
    {domain:'Travel & Immigration', region:'Global', name:'Travel Warning Dashboard', url:'https://tabi/#/site/GlobalServices/views/TravelWarningDashboard/TravellingFromIsrael?:iid=12'},
    {domain:'Travel & Immigration', region:'Global', name:'Traveller Details to Mexico | Brazil | SouthAfrica', url:'https://tabi/#/site/GlobalServices/views/TravellerDetailstoMexicoBrazilSouthAfrica/TravellerDetailstoMexicoBrazilSouthAfrica?:iid=4'}
  ];

  const state = {
    domain:'', region:'', search:'', sort:'name', favorites: new Set(JSON.parse(localStorage.getItem('favorites')||'[]'))
  };

  const el = {
    search: document.getElementById('search'),
    region: document.getElementById('region'),
    sort: document.getElementById('sort'),
    reset: document.getElementById('reset'),
    domains: document.getElementById('domains'),
    grid: document.getElementById('grid'),
    lastUpdated: document.getElementById('lastUpdated'),
    favoritesSection: document.getElementById('favorites-section'),
    favoritesGrid: document.getElementById('favoritesGrid'),
    showFavs: document.getElementById('showFavs'),
    openFiltered: document.getElementById('openFiltered'),
    openFavs: document.getElementById('openFavs'),
  };

  function uniq(arr){ return [...new Set(arr)].sort((a,b)=>a.localeCompare(b)); }

  function initFilters(){
    // Regions
    for(const r of uniq(dashboards.map(d=>d.region))){
      const opt = document.createElement('option');
      opt.value = r; opt.textContent = r; el.region.appendChild(opt);
    }
    // Domains chips
    for(const d of uniq(dashboards.map(x=>x.domain))){
      const chip = document.createElement('button');
      chip.type='button'; chip.className='chip'; chip.textContent=d; chip.setAttribute('data-domain', d);
      chip.addEventListener('click', ()=>{ state.domain = (state.domain===d? '' : d); updateChips(); render(); });
      el.domains.appendChild(chip);
    }
  }

  function updateChips(){
    document.querySelectorAll('.chip').forEach(c=>{
      c.classList.toggle('active', c.getAttribute('data-domain')===state.domain);
    });
  }

  function applyFilters(list){
    let out = list.filter(d =>
      (!state.domain || d.domain===state.domain) &&
      (!state.region || d.region===state.region) &&
      (!state.search || (d.name+" "+d.domain+" "+d.region).toLowerCase().includes(state.search))
    );
    const cmp = {
      name: (a,b)=>a.name.localeCompare(b.name),
      domain: (a,b)=>a.domain.localeCompare(b.domain)||a.name.localeCompare(b.name),
      region: (a,b)=>a.region.localeCompare(b.region)||a.name.localeCompare(b.name),
    }[state.sort];
    out.sort(cmp);
    if(el.showFavs.checked){
      out.sort((a,b)=> (state.favorites.has(a.url)?-1:0) - (state.favorites.has(b.url)?-1:0));
    }
    return out;
  }

  function card(d){
    const c = document.createElement('article'); c.className='card'; c.setAttribute('data-domain', d.domain); c.setAttribute('data-region', d.region);
    const name = document.createElement('div'); name.className='name'; name.textContent = d.name; c.appendChild(name);
    const meta = document.createElement('div'); meta.className='meta';
      const b1=document.createElement('span'); b1.className='badge'; b1.textContent=d.domain; meta.appendChild(b1);
      const b2=document.createElement('span'); b2.className='badge'; b2.textContent=d.region; meta.appendChild(b2);
    c.appendChild(meta);
    const actions = document.createElement('div'); actions.className='actions';
      const open = document.createElement('a'); open.href=d.url; open.target='_blank'; open.rel='noopener'; open.className='btn primary'; open.textContent='Open'; actions.appendChild(open);
      const copy = document.createElement('button'); copy.className='btn copy'; copy.textContent='Copy link'; copy.addEventListener('click', ()=>{
        navigator.clipboard.writeText(d.url).then(()=>{
          copy.textContent='Copied!'; setTimeout(()=>copy.textContent='Copy link', 1200);
        });
      }); actions.appendChild(copy);
      const fav = document.createElement('button'); fav.className='btn fav'; fav.innerHTML = state.favorites.has(d.url)? '★ Favorite' : '☆ Favorite';
      fav.addEventListener('click', ()=>{
        if(state.favorites.has(d.url)) state.favorites.delete(d.url); else state.favorites.add(d.url);
        localStorage.setItem('favorites', JSON.stringify([...state.favorites]));
        fav.innerHTML = state.favorites.has(d.url)? '★ Favorite' : '☆ Favorite';
        renderFavorites();
      }); actions.appendChild(fav);
    c.appendChild(actions);
    return c;
  }

  function render(){
    const list = applyFilters(dashboards);
    el.grid.innerHTML='';
    list.forEach(d => el.grid.appendChild(card(d)));
  }

  function renderFavorites(){
    const favs = dashboards.filter(d => state.favorites.has(d.url));
    el.favoritesSection.hidden = favs.length===0;
    el.favoritesGrid.innerHTML='';
    favs.forEach(d=> el.favoritesGrid.appendChild(card(d)));
  }

  function hookEvents(){
    el.search.addEventListener('input', e=>{ state.search = e.target.value.trim().toLowerCase(); render(); });
    el.region.addEventListener('change', e=>{ state.region = e.target.value; render(); });
    el.sort.addEventListener('change', e=>{ state.sort = e.target.value; render(); });
    el.reset.addEventListener('click', ()=>{ state.domain=''; state.region=''; state.search=''; state.sort='name'; el.search.value=''; el.region.value=''; el.sort.value='name'; updateChips(); render(); });
    el.openFiltered.addEventListener('click', ()=>{
      applyFilters(dashboards).forEach(d=> window.open(d.url, '_blank', 'noopener'));
    });
    el.openFavs.addEventListener('click', ()=>{
      dashboards.filter(d=> state.favorites.has(d.url)).forEach(d=> window.open(d.url, '_blank', 'noopener'));
    });
  }

  function init(){
    initFilters();
    updateChips();
    render();
    renderFavorites();
    hookEvents();
    el.lastUpdated.textContent = new Date().toLocaleDateString(undefined, {year:'numeric', month:'short', day:'numeric'});
  }
  init();
</script>
</body>
</html>
